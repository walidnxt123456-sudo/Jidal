const handleSendMessage = async () => {
  if (!topic || !guests.guestA || !guests.guestB) return;

  const payload = {
    question: topic,
    guestA: guests.guestA.name,
    guestB: guests.guestB.name,
    style: 'argument',
    tone: 'Funny',
    maxWords: 40
  };

  try {
    const res = await fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    });

    const data = await res.json();
    console.log('AI Response:', data.output[0].text);

    // Add AI response to messages
    setMessages(prev => [
      ...prev,
      { sender: 'guestA', text: data.output[0].text }
    ]);

  } catch (err) {
    console.error(err);
  }
};
